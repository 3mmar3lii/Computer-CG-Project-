<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Super Shadow Studio - Final Evolution</title>
    <link rel="stylesheet" href="CG_V08.css">
</head>

<body data-theme="dark">

    <div class="container">
        <div class="stage" id="gameStage">
            <div class="view-toggle" onclick="toggleView()" title="Toggle Zen Mode">‚õ∂</div>

            <div id="themeToggle" class="celestial moon" onclick="toggleTheme()" title="Toggle Day/Night"></div>

            <div class="game-hud">
                <div class="score-box"><span>Health:</span><span id="healthValue">3 ‚ù§Ô∏è</span></div>
                <div class="score-box"><span>üíÄ Killed:</span><span id="killValue">0</span></div>
            </div>

            <div id="resultOverlay" class="result-overlay">
                <div class="result-text" id="resultText"></div>
                <div class="result-subtext" id="resultSubtext"></div>
                <button class="btn btn-primary" style="margin-top:30px;" onclick="resetGame()">Play Again</button>
            </div>

            <div class="skyline">
                <div class="building b1"></div>
                <div class="building b2"></div>
                <div class="building b3"></div>
                <div class="building b1"></div>
            </div>

            <div id="muzzleFlash" class="muzzle-flash"></div>

            <div id="char-shadow"
                style="width: 80px; height: 10px; background: rgba(0,0,0,0.5); border-radius: 50%; position: absolute; bottom: 75px; left: 0; filter: blur(4px); pointer-events: none; transition: opacity 0.2s; will-change: transform;">
            </div>

            <div id="hero-container" class="idle">
                <svg width="140" height="200" viewBox="0 0 200 300" xmlns="http://www.w3.org/2000/svg">
                    <g id="cape">
                        <path
                            d="M 50 120 Q 30 160 40 220 L 60 240 Q 80 200 100 200 Q 120 200 140 240 L 160 220 Q 170 160 150 120 Z"
                            fill="#0f172a" stroke="#334155" stroke-width="2" />
                    </g>
                    <g id="head" transform-origin="100 70">
                        <path d="M 60 50 Q 60 30 100 30 Q 140 30 140 50 L 135 80 Q 130 90 100 90 Q 70 90 65 80 Z"
                            fill="#1f2937" stroke="#334155" stroke-width="2" />
                        <g id="eyes">
                            <ellipse cx="80" cy="60" rx="12" ry="15" fill="#e2e8f0" stroke="#334155"
                                stroke-width="1.5" />
                            <ellipse cx="120" cy="60" rx="12" ry="15" fill="#e2e8f0" stroke="#334155"
                                stroke-width="1.5" />
                        </g>
                    </g>
                    <g id="torso">
                        <rect x="70" y="100" width="60" height="80" rx="10" fill="#1f2937" stroke="#334155"
                            stroke-width="2" />
                        <path d="M 100 120 L 90 130 L 100 145 L 110 130 Z" fill="var(--primary)" stroke="#991b1b"
                            stroke-width="1.5" />
                        <rect x="70" y="160" width="60" height="10" fill="#0f172a" />
                        <rect x="95" y="162" width="10" height="6" fill="var(--primary)" />
                    </g>
                    <g id="left-arm" transform-origin="60 110">
                        <rect x="45" y="110" width="20" height="50" rx="8" fill="#1f2937" stroke="#334155"
                            stroke-width="2" />
                        <rect x="50" y="155" width="10" height="15" fill="#0f172a" />
                    </g>
                    <g id="right-arm" transform-origin="140 110">
                        <rect x="135" y="110" width="20" height="50" rx="8" fill="#1f2937" stroke="#334155"
                            stroke-width="2" />
                        <rect x="140" y="155" width="10" height="15" fill="#0f172a" />
                    </g>
                    <g id="left-leg" transform-origin="80 180">
                        <rect x="72" y="180" width="16" height="40" rx="6" fill="#1f2937" stroke="#334155"
                            stroke-width="2" />
                        <rect x="112" y="180" width="16" height="40" rx="6" fill="#1f2937" stroke="#334155"
                            stroke-width="2" />
                    </g>
                    <g id="right-leg" transform-origin="120 180">
                        <rect x="112" y="180" width="16" height="40" rx="6" fill="#1f2937" stroke="#334155"
                            stroke-width="2" />
                    </g>
                </svg>
            </div>

            <div class="ground"></div>
        </div>

        <div class="controls-container">
            <div class="actions-controls">
                <button class="btn btn-toggle" id="fightBtn" onclick="toggleFightMode()">‚öîÔ∏è Fight Mode</button>
                <button class="btn btn-toggle" id="flyBtn" onclick="toggleFlight()">üöÄ Flight Mode</button>
                <button class="btn btn-primary" onclick="shootProjectile()">üî• Shoot</button>
                <button class="btn" onclick="resetGame()">‚Ü∫ Reset Game</button>
                <button class="btn" onclick="resetTransform()">‚Ü∫ Reset Transform</button>
            </div>

            <div class="transform-controls">
                <div class="control-group">
                    <h3>Body Parts</h3>
                    <div class="slider-container">
                        <div class="slider-label"><span>Head</span><span class="slider-value" id="headValue">0¬∞</span>
                        </div><input type="range" id="headRotation" min="-45" max="45" value="0"
                            oninput="rotatePart('head', this.value)">
                    </div>
                    <div class="slider-container">
                        <div class="slider-label"><span>Left Arm</span><span class="slider-value"
                                id="leftArmValue">0¬∞</span></div><input type="range" id="leftArmRotation" min="-180"
                            max="180" value="0" oninput="rotatePart('left-arm', this.value)">
                    </div>
                    <div class="slider-container">
                        <div class="slider-label"><span>Right Arm</span><span class="slider-value"
                                id="rightArmValue">0¬∞</span></div><input type="range" id="rightArmRotation" min="-180"
                            max="180" value="0" oninput="rotatePart('right-arm', this.value)">
                    </div>
                </div>
                <div class="control-group">
                    <h3>Transform</h3>
                    <div class="slider-container">
                        <div class="slider-label"><span>Scale</span><span class="slider-value"
                                id="scaleValue">100%</span></div><input type="range" id="scale" min="50" max="200"
                            value="100" oninput="updateTransform()">
                    </div>

                    <div class="slider-container">
                        <div class="slider-label"><span>Rotate</span><span class="slider-value"
                                id="rotateValue">0¬∞</span></div><input type="range" id="rotate" min="-180" max="180"
                            value="0" oninput="updateTransform()">
                    </div>

                    <div class="slider-container">
                        <div class="slider-label"><span>Skew X</span><span class="slider-value"
                                id="skewXValue">0¬∞</span></div><input type="range" id="skewX" min="-30" max="30"
                            value="0" oninput="updateTransform()">
                    </div>
                    <div class="slider-container">
                        <div class="slider-label"><span>Skew Y</span><span class="slider-value"
                                id="skewYValue">0¬∞</span></div><input type="range" id="skewY" min="-30" max="30"
                            value="0" oninput="updateTransform()">
                    </div>
                </div>
            </div>
            <div class="keys-hint"><kbd>Arrows</kbd> Move &nbsp;|&nbsp; <kbd>Space/‚Üë</kbd> Fly &nbsp;|&nbsp;
                <kbd>F</kbd> Shoot &nbsp;|&nbsp; <kbd>Shift</kbd> Turbo</div>
        </div>
    </div>

    <script src="CG_V08.js"></script>
</body>

</html>